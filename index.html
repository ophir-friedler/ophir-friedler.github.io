<form id="time-form">
  <label for="datetime">Choose a time:</label>
  <input type="datetime-local" id="datetime" name="datetime" required>
  <button type="submit">Submit</button>
</form>

<script>
document.getElementById("time-form").addEventListener("submit", async (e) => {
  e.preventDefault();
  const datetime = document.getElementById("datetime").value;

  const response = await fetch("https://flask-supabase-backend.onrender.com/submit", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ selected_time: datetime })
  });

  const result = await response.json();
  alert(result.message || "Submitted!");
});
</script>
